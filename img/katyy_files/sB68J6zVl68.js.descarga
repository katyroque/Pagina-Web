if (self.CavalryLogger) { CavalryLogger.start_js(["mnMtB"]); }

__d("CometUFIFeedbackCommentReactSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"CommentLikeSubscribeData!"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor",type:"Boolean"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackCommentReactSubscription_feedback"}],storageKey:null}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},g=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}];f=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[e],storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[f,e,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null},{alias:null,args:g,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[f,e],storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[d,e],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIFeedbackCommentReactSubscription",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"comment_like_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:c,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:c,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIFeedbackCommentReactSubscription",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"comment_like_subscribe",plural:!1,selections:[d,{kind:"InlineFragment",selections:f,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:f,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:"3281622608563581",metadata:{subscriptionName:"comment_like_subscribe"},name:"CometUFIFeedbackCommentReactSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometUFIFeedbackCommentReactSubscription_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackCommentReactSubscription_feedback",selections:[{args:null,kind:"FragmentSpread",name:"UFI2FeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFICommentTopReactions_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2CommentTopReactionsWrapper_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIToggleCommentPermissionSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"FeedbackCommentPermissionToggleSubscribeData!"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor",type:"Boolean"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"have_comments_been_disabled",storageKey:null},d={alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIToggleCommentPermissionSubscription",selections:[{alias:null,args:b,concreteType:"FeedbackCommentPermissionToggleSubscribeResponsePayload",kind:"LinkedField",name:"feedback_comment_permission_toggle_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,d],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIToggleCommentPermissionSubscription",selections:[{alias:null,args:b,concreteType:"FeedbackCommentPermissionToggleSubscribeResponsePayload",kind:"LinkedField",name:"feedback_comment_permission_toggle_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3082587898469341",metadata:{subscriptionName:"feedback_comment_permission_toggle_subscribe"},name:"CometUFIToggleCommentPermissionSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("ManagedError",[],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,b!==null&&b!==void 0?b:"")||this;b!==null&&b!==void 0?d.message=b:d.message="";d.innerError=c;return d}return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("AssertionError",["ManagedError"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}return b}(b("ManagedError"));e.exports=a}),null);
__d("Assert",["AssertionError","sprintf"],(function(a,b,c,d,e,f){function g(a,c){if(typeof a!=="boolean"||!a)throw new(b("AssertionError"))(c);return a}function h(a,c,d){var e;if(c===void 0)e="undefined";else if(c===null)e="null";else{var f=Object.prototype.toString.call(c);e=/\s(\w*)/.exec(f)[1].toLowerCase()}g(a.indexOf(e)!==-1,d||b("sprintf")("Expression is of type %s, not %s",e,a));return c}function a(a,b,c){g(b instanceof a,c||"Expression not instance of type");return b}function i(a,b){j["is"+a]=b,j["maybe"+a]=function(a,c){a!=null&&b(a,c)}}var j={isInstanceOf:a,isTrue:g,isTruthy:function(a,b){return g(!!a,b)},type:h,define:function(a,b){a=a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase(),i(a,function(a,c){g(b(a),c)})}};["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"].forEach(function(a){i(a,h.bind(null,a.toLowerCase()))});e.exports=j}),null);
__d("ComposerMediaFileUploader",["requireCond","ActorURI","ReactComposerMediaConfig","cr:1342782","VideoUploader","VideoUploadFile","VideoUploadFlowNotifier","VideoUploadSurface","XComposerPhotoUploader","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoUploadFlowNotifier").createVideoUploadFlowNotifier,h=b("VideoUploadSurface").VideoUploadSurface,i=b("VideoUploadSurface").VideoUploadSurfaceIDs,j=function(){function a(){this.subscribers=[]}var b=a.prototype;b.subscribe=function(a){this.subscribers.push(a)};b.notify=function(a){this.subscribers.forEach(function(b){return b(a)})};b.unsubscribe=function(a){this.subscribers=this.subscribers.filter(function(b){return b!==a})};return a}();a=function(){a.createOrGetInstance=function(b,c,d){b=a.$1||new a(b,c,d);if(b.creationSessionID!==d){var e;b.creationSessionID=(e=d)!=null?e:"";b.videoUploaderConfig=c;b.videoUploadFlowNotifier=g({cancel_on_leave:!1,composer_entry_point_ref:(e=b.videoUploaderConfig.composer_entry_point_ref)!=null?e:"unknown",composer_session_id:(c=d)!=null?c:"",extended_flow_logging_enabled:!0,source:b.videoUploaderConfig.source});h.getOrCreate(i.FEED).notifiers().register(b.videoUploadFlowNotifier,b.creationSessionID)}a.$1=b;return b};a.getInstance=function(){return a.$1};function a(a,b,c){this.startedObserver=new j();this.progressObserver=new j();this.successObserver=new j();this.errorObserver=new j();this.uploadStatuses=new Map();this.uploadStatusChangeObserver=new j();this.videoUploadsQueue=[];this.actorID=a;this.videoUploaderConfig=b;this.creationSessionID=(a=c)!=null?a:"";this.photoUploader=this.$2(this.actorID);this.videoUploader=this.$3(this.videoUploaderConfig,this.creationSessionID);this.videoUploadFlowNotifier=g({cancel_on_leave:!1,composer_entry_point_ref:(b=this.videoUploaderConfig.composer_entry_point_ref)!=null?b:"unknown",composer_session_id:(c=this.creationSessionID)!=null?c:"",extended_flow_logging_enabled:!0,source:this.videoUploaderConfig.source});h.getOrCreate(i.FEED).notifiers().register(this.videoUploadFlowNotifier,this.creationSessionID)}var c=a.prototype;c.$4=function(a,b){var c;c=(c=this.uploadStatuses.get(a))==null?void 0:c.bytesTotal;if(c==null)return;this.uploadStatuses.set(a,{bytesLoaded:(a=b)!=null?a:c,bytesTotal:c});this.uploadStatusChangeObserver.notify(this.uploadStatuses)};c.$2=function(a){var c=this;a=b("cr:1342782")!=null&&b("cr:1342782").isSupported()?b("cr:1342782").getSingleton():void 0;return new(b("XComposerPhotoUploader"))({concurrentLimit:b("ReactComposerMediaConfig").photo.concurrentLimit,onUploadFailure:function(a,b){c.errorObserver.notify({entID:b.response.payload.photoID,error:b.response.getErrorSummary(),uploadID:a})},onUploadProgress:function(a,b){var d=Math.min(1,Math.max(0,b.event.loaded/b.event.total));c.progressObserver.notify({percentComplete:d,uploadID:a});c.$4(a,b.event.loaded)},onUploadStart:function(a,b){c.startedObserver.notify({uploadID:a})},onUploadSuccess:function(a,b){c.successObserver.notify({attachmentType:"PHOTO",entID:b.response.payload.photoID,imageURL:b.response.payload.imageSrc,uploadID:a}),c.$4(a)},resizer:a,retryLimit:b("ReactComposerMediaConfig").photo.retryLimit,uploadData:babelHelpers["extends"]({},b("ReactComposerMediaConfig").photo.uploadData,{source:8}),uploadEndpoint:b("ActorURI").create(b("ReactComposerMediaConfig").photo.uploadEndpoint,this.actorID)})};c.$3=function(a,c){a=babelHelpers["extends"]({},a,{isMultiMediaPost:!0,waterfall_id:c});return new(b("VideoUploader"))(a)};c.upload=function(a){var b=this;a.forEach(function(a){var c=a[0];a[1];a=c.uploadID;a!=null&&b.uploadStatuses.get(a)==null&&b.uploadStatuses.set(a,{bytesLoaded:0,bytesTotal:c.size})});this.uploadStatusChangeObserver.notify(this.uploadStatuses);this.$5(a.filter(function(a){a[0];a=a[1];return a==="PHOTO"}).map(function(a){var b=a[0];a[1];return b}));this.$6(a.filter(function(a){a[0];a=a[1];return a==="VIDEO"}).map(function(a){var b=a[0];a[1];return b}))};c.$5=function(a){a.length>0&&this.photoUploader.getAsyncUploadRequest(a).send()};c.$6=function(a){var c=this;a.length>0&&(this.videoUploadsQueue=this.videoUploadsQueue.concat(a));if(this.videoUploadsQueue.length>0&&!this.videoUploader.isSessionExist()){var d=this.videoUploadsQueue.shift();this.videoUploader=this.$3(this.videoUploaderConfig,this.creationSessionID);var e=this.videoUploader;e.subscribe("upload-started",function(a,b){a=d.uploadID;a!=null&&c.startedObserver.notify({uploadID:a})});e.subscribe("upload-progressed",function(a,b){a=Math.min(1,Math.max(0,(b.start_offset+b.sent_bytes)/b.file_size));var e=d.uploadID;e!=null&&(c.progressObserver.notify({percentComplete:a,uploadID:e}),c.$4(e,b.start_offset+b.sent_bytes))});e.subscribe("upload-finished",function(a,b){e.reset();a=d.uploadID;a!=null&&(c.successObserver.notify({attachmentType:"VIDEO",entID:b.video_id,uploadID:a}),c.$4(a));c.$6([])});b("gkx")("1454236")&&this.videoUploadFlowNotifier.registerVideoUpload(e,d.uploadID);e.upload(b("VideoUploadFile").fromFile(d))}};return a}();a.$1=null;e.exports=a}),null);
__d("cometGHLContentDisplayCheck",[],(function(a,b,c,d,e,f){"use strict";var g=!0,h=!1;a=function(a){var b=document.body;if(b==null||!b.contains(a))return g;b=Array.from(a.getElementsByTagName("img"));if(b.length===0)return g;return b.find(i)==null?h:g};var i=function(a){return a.offsetHeight+a.offsetWidth>0};e.exports=a}),null);
__d("CometGHLDisplayMonitor",["clearTimeout","cometGHLContentDisplayCheck","recoverableViolation","setTimeoutCometLoggingPri","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=new Map(),i=1e3,j=null;a=function(a,c){h.has(a)||h.set(a,new Set());var d=h.get(a);if(d==null){b("recoverableViolation")("Expected Set to be declared for container","GHL");return{dispose:function(){}}}d.add(c);j===null&&k();return{dispose:function(){d["delete"](c),d.size===0&&(h["delete"](a),h.size===0&&(b("clearTimeout")(j),j=null))}}};var k=function a(){h.forEach(function(a,c){c=c.current;if(c==null||l(c)||!b("cometGHLContentDisplayCheck")(c))return;a.forEach(function(a,c){a=c.onCheck;var d=c.startTime;c=c.targetRef;c=c.current;if(c==null||l(c))return;c=b("cometGHLContentDisplayCheck")(c);if(!c){c=Date.now()-d;a(c)}})}),j=b("setTimeoutCometLoggingPri")(a,i)},l=function(a){return a.closest==null||a.closest(n)},m={rule:{display:"mkhogb32"}},n=function(){return"."+(g||(g=b("stylex")))(m.rule).split(" ").pop()}();c={m:a};e.exports=c}),null);
__d("CometUFIFeedbackCommentReactSubscription",["CometRelay","UFI2FeedbackSubscriptionTopicProvider","emptyFunction","gkx","CometUFIFeedbackCommentReactSubscription_feedback.graphql","CometUFIFeedbackCommentReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h;b("CometRelay").graphql;var i=b("CometRelay").requestSubscription;g!==void 0?g:g=b("CometUFIFeedbackCommentReactSubscription_feedback.graphql");var j=h!==void 0?h:h=b("CometUFIFeedbackCommentReactSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(j,"gqls/comment_like_subscribe/top_level_feedback_id_");function a(a,c,d,e,f){if(b("gkx")("1352845"))return{dispose:b("emptyFunction")};b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.top_level_feedback_id,e);return i(a,{subscription:j,variables:{input:c,isComet:f,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("CometUFIToggleCommentPermissionSubscription",["CometRelay","UFI2FeedbackSubscriptionTopicProvider","CometUFIToggleCommentPermissionSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").requestSubscription,i=g!==void 0?g:g=b("CometUFIToggleCommentPermissionSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(i,"gqls/feedback_comment_permission_toggle_subscribe/feedback_id_");function a(a,c,d,e){b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.feedback_id,e);return h(a,{subscription:i,variables:{input:c,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("displayCommentsConnectionCountUpdater",["FBLogger","forEachUFI2DisplayCommentsConnection"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=a.feedbackId,d=a.modifier,e=a.store,f=a.topLevelFeedbackId;a=a.totalCommentCountModifier;var g=c;f!=null&&f!==""&&(g=f);var h=d;a!=null&&a!==0&&(h=a);function i(a){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",g||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(c||"UNKNOWN")+", comments_count_modifier;"+h+", conn_count_modifier;"+d).warn(a)}f=e.get(c);if(f==null){i("could not find feedback record");return}b("forEachUFI2DisplayCommentsConnection")(e,f,function(a){var b=Math.max(0,Number(a.getValue("count"))+d);a.setValue(b,"count");a.setValue(b===0,"is_empty")});a=e.get(g);if(a==null){i("could not find top level feedback record");return}f=a.getLinkedRecord("top_level_comments");if(f==null){i("could not find top level comments");return}e=f.getValue("total_count");i=Math.max(0,Number(e)+h);f.setValue(i,"total_count");e=a.getValue("comment_count_reduced");Number(e).toString()===e&&a.setValue(i.toString(),"comment_count_reduced");f.setValue(i===0,"is_empty")}g.decrement=function(a){return g(babelHelpers["extends"]({},a,{modifier:-1}))};g.increment=function(a){return g(babelHelpers["extends"]({},a,{modifier:1}))};e.exports=g}),null);