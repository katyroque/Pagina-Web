if (self.CavalryLogger) { CavalryLogger.start_js(["390ob"]); }

__d("BaseSlider.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","Locale","Pressable.react","React","recoverableViolation","stylex","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("React");var j=c.useCallback,k=c.useEffect,l=c.useMemo,m=c.useRef,n={rail:{backgroundColor:"pwoa4pd7",borderTopStartRadius:"s8bnoagg",borderTopEndRadius:"bn9qtmzc",borderBottomEndRadius:"hp05c5td",borderBottomStartRadius:"b6jg2yqc",display:"a8c37x1j",height:"mw227v9j",position:"pmk7jnqg",width:"k4urcfbm"},root:{boxSizing:"cjfnh4rs",cursor:"nhd2j8a9",display:"q9uorilb",height:"mw227v9j",paddingBottom:"sj5x9vvc",paddingTop:"cxgpxx05",position:"l9j0dhe7",touchAction:"gokke00a",width:"k4urcfbm"},thumb:{backgroundColor:"q2y6ezfg",borderTopColor:"qbxu24ho",borderEndColor:"bxzzcbxg",borderBottomColor:"lxuwth05",borderStartColor:"h2mp5456",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"frvqaej8",borderEndWidth:"ed0hlay0",borderBottomWidth:"afxsp9o4",borderStartWidth:"jcgfde61",bottom:"i09qtzwb",boxShadow:"ibrqsekg",boxSizing:"rq0escxv",cursor:"nhd2j8a9",height:"jnigpg78",marginStart:"e5bbllhu",outline:"lzcic4wl",position:"pmk7jnqg",top:"kr520xx4",width:"odw8uiq3"},thumbFocusVisible:{borderTopColor:"ng4oes9w",borderEndColor:"epui8hbc",borderBottomColor:"nxp5a7ae",borderStartColor:"og13rbbo",boxShadow:"gxj1dplq"},thumbWrapper:{marginEnd:"o3lre8g0",marginStart:"gu00c43d",marginTop:"sv5sfqaa",position:"l9j0dhe7"},track:{backgroundColor:"is6700om",borderTopStartRadius:"s8bnoagg",borderTopEndRadius:"bn9qtmzc",borderBottomEndRadius:"hp05c5td",borderBottomStartRadius:"b6jg2yqc",display:"a8c37x1j",height:"mw227v9j",position:"pmk7jnqg"}};function o(a,b){a=a.reduce(function(a,c,d){c=Math.abs(b-c);return a==null||c<a.distance||c===a.distance?{distance:c,index:d}:a},null);return(a=a==null?void 0:a.index)!=null?a:0}function p(a,b,c){return(a-b)*100/(c-b)}function q(a,b,c){return Math.min(Math.max(a,b),c)}function r(a){return a.toString()}function s(a,b){return a+b}function t(a){var b=m(a);k(function(){b.current=a});return j(function(a){return b.current(a)},[])}function u(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return d.pageX}return null}function a(a){var c,d=a.ariaLabel,e=a.ariaLabelledBy,f=a.ariaValueText,v=f===void 0?r:f;f=a.disabled;var w=f===void 0?!1:f;f=a.max;var x=f===void 0?100:f;f=a.min;var y=f===void 0?0:f,z=a.onChange,A=a.onChangeSettled;f=a.step;var B=f===void 0?1:f;f=a.thumbMargin;f===void 0?0:f;var C=a.values,D=a.xstyleThumb,E=b("useCometUniqueID")(),F=m(null),G=m(0),H=m(null),I=m(null),J=l(function(){var a=typeof C==="number"?[C]:[].concat(C);a.sort(function(a,b){return a-b});return a},[C]);f=p(J.length>1?J[0]:y,y,x);a=p(J[J.length-1],y,x)-f;f=(c={},c[b("Locale").isRTL()?"right":"left"]=f+"%",c.width=a+"%",c);var K=j(function(){if(G.current!=null&&F.current){var a=F.current.querySelector("#"+s(E,G.current));a!=null&&a.focus()}},[E]),L=j(function(a){var c,d=a.eventX;a=a.isMove;a=a===void 0?!1:a;var e=F.current;if(e==null){b("recoverableViolation")("Slider Ref should have been set","comet_ui");return null}if(w)return null;c=(c=e.ownerDocument.defaultView)!=null?c:window;e=e.getBoundingClientRect();var f=e.left;e=e.width;d=(d-f-c.pageXOffset)/e;b("Locale").isRTL()&&(d=1-d);f=q(Math.round(((x-y)*d+y)/B)*B,y,x);c=a?G.current:o(J,f);e=J;if(J[c]!==f){d=[].concat(J);d[c]=f;d.sort(function(a,b){return a-b});e=d}G.current=e.indexOf(f);return e},[w,x,y,B,J]),M=t(function(a){a=L({eventX:a.pageX,isMove:!0});a!=null&&z&&z(a);K()}),N=t(function(a){a=L({eventX:a.pageX});a!=null&&A&&A(a);window.removeEventListener("mousemove",M,!0);window.removeEventListener("mouseup",N,!0)});a=t(function(a){if(w)return;var b=window.navigator.userAgent.indexOf("MSIE")>=0;b||a.preventDefault();b=L({eventX:a.pageX});b!=null&&z&&z(b);K();window.addEventListener("mousemove",M,!0);window.addEventListener("mouseup",N,!0)});var O=t(function(a){a=u(a,H.current);if(a==null)return;a=L({eventX:a,isMove:!0});a!=null&&z&&z(a);K()}),P=t(function(a){a=u(a,H.current);if(a==null)return;a=L({eventX:a});a!=null&&A&&A(a);window.removeEventListener("touchmove",O,!0);window.removeEventListener("touchend",P,!0)});c=t(function(a){if(w)return;a.preventDefault();var b=a.changedTouches[0];b!=null&&(H.current=b.identifier);b=u(a,H.current);if(b==null)return;a=L({eventX:b});a!=null&&z&&z(a);K();window.addEventListener("touchmove",O,!0);window.addEventListener("touchend",P,!0)});k(function(){if(w)return;return function(){window.removeEventListener("mousemove",M,!0),window.removeEventListener("mouseup",N,!0),window.removeEventListener("touchmove",O,!0),window.removeEventListener("touchend",P,!0)}},[w,M,N,P,O,c]);var Q=j(function(a){var b=I.current;if(b!=null){a=q(Math.round(a/B)*B,y,x);if(J[b]!==a){var c=[].concat(J);c[b]=a;c.sort(function(a,b){return a-b});z&&z(c);A&&A(c)}}},[x,y,z,A,B,J]),R=(x-y)/10,S=l(function(){var a;return[{command:{key:(a=b("CometKeys")).HOME},description:g._("Establece el control deslizante en su valor m\u00ednimo."),handler:function(){I.current!=null&&Q(y)}},{command:{key:a.END},description:g._("Establece el control deslizante en su valor m\u00e1ximo."),handler:function(){I.current!=null&&Q(x)}},{command:{key:a.PAGE_DOWN},description:g._("Reduce el valor del control deslizante varios espacios. En este caso, salta un 10\u0025."),handler:function(){I.current!=null&&Q(J[I.current]-R)}},{command:{key:a.PAGE_UP},description:g._("Aumenta el valor del control deslizante varios espacios. En este caso, salta un 10\u0025."),handler:function(){I.current!=null&&Q(J[I.current]+R)}},{command:{key:a.LEFT},description:g._("Reduce el valor del control deslizante un espacio."),handler:function(){I.current!=null&&Q(J[I.current]-B)}},{command:{key:a.DOWN},description:g._("Reduce el valor del control deslizante un espacio."),handler:function(){I.current!=null&&Q(J[I.current]-B)}},{command:{key:a.RIGHT},description:g._("Aumenta el valor del control deslizante un espacio."),handler:function(){I.current!=null&&Q(J[I.current]+B)}},{command:{key:a.UP},description:g._("Aumenta el valor del control deslizante un espacio."),handler:function(){I.current!=null&&Q(J[I.current]+B)}}]},[x,y,Q,B,R,J]);return i.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:S,children:i.jsxs("div",{className:(h||(h=b("stylex")))(n.root),onMouseDown:a,onTouchStart:c,ref:F,role:"none",children:[i.jsx("div",{className:h(n.rail)}),i.jsx("div",{className:h(n.track),style:f}),i.jsx("div",{className:h(n.thumbWrapper),children:J.map(function(a,c){var f=p(a,y,x);return i.jsx(b("Pressable.react"),{accessibilityLabel:d,accessibilityRelationship:{labelledby:e},accessibilityRole:"slider",accessibilityState:{disabled:w,orientation:"horizontal"},accessibilityValue:{max:x,min:y,now:a,text:v(a)},disabled:w,nativeID:s(E,c),onBlur:function(){I.current=null},onFocus:function(){I.current=c},style:(a={},a[b("Locale").isRTL()?"right":"left"]=f+"%",a),xstyle:function(a){return[n.thumb,a.focusVisible&&n.thumbFocusVisible,typeof D==="function"?D(a):D]}},c)})})]})})}e.exports=a}),null);
__d("CometSlider.react",["BaseSlider.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.disabled,d=a.getRangeLabel,e=a.label,f=a.max,h=a.min,i=a.onChange,j=a.onChangeSettled,k=a.step;a=a.value;return g.jsx(b("BaseSlider.react"),{ariaLabel:e,ariaValueText:d,disabled:c,max:f,min:h,onChange:function(a){i(a[0])},onChangeSettled:function(a){j&&j(a[0])},step:k,values:[a]})}e.exports=a}),null);
__d("ProfileCometProfilePictureTemporaryOptions",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({CUSTOM:-2,DAY:86400,HOUR:3600,MONTH:2592e3,PERMANENT:-1,WEEK:604800})}),null);
__d("ProfileCometExpirationTimeSelector.react",["fbt","CometCardedDialogLoadingState.react","CometSelect.react","CometTimestamp.react","JSResource","ProfileCometProfilePictureEditStrings","ProfileCometProfilePictureTemporaryOptions","React","gkx","useCometLazyDialog","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useEffect,j=c.useState,k=b("JSResource")("ProfileCometExpirationTimeSelectorDialog.react").__setRef("ProfileCometExpirationTimeSelector.react"),l=[{label:(d=b("ProfileCometProfilePictureEditStrings")).TEMPORARY_OPTION_ONE_HOUR,value:(f=b("ProfileCometProfilePictureTemporaryOptions")).HOUR},{label:d.TEMPORARY_OPTION_ONE_DAY,value:f.DAY},{label:d.TEMPORARY_OPTION_ONE_WEEK,value:f.WEEK},{label:d.TEMPORARY_OPTION_NEVER,value:f.PERMANENT},{label:d.TEMPORARY_OPTION_CUSTOM,value:f.CUSTOM}],m=function(){return h.jsx(b("CometCardedDialogLoadingState.react"),{title:g._("Cambiar a la foto del perfil anterior en")})};function a(a){var c=a.disabled;c=c===void 0?!1:c;var d=a.onChange;a=a.value;a=j((a=a)!=null?a:b("ProfileCometProfilePictureTemporaryOptions").PERMANENT);var e=a[0],f=a[1];a=j(null);var g=a[0],n=a[1];a=b("useServerTime")();a=b("CometTimestamp.react").getTimestamp(a,new Date((a=g)!=null?a:0));var o=b("gkx")("1357388")?[].concat(l.slice(0,3),[{label:b("ProfileCometProfilePictureEditStrings").TEMPORARY_OPTION_ONE_MONTH,value:b("ProfileCometProfilePictureTemporaryOptions").MONTH}],l.slice(3)):l;a=[g!=null?{label:a,value:g}:null].concat(o).filter(Boolean);o=b("useCometLazyDialog")(k,m);var p=o[0];i(function(){g!=null?d(Math.ceil((g-Date.now())/1e3)):e===b("ProfileCometProfilePictureTemporaryOptions").PERMANENT?d(null):d(e)},[g,e,d]);return h.jsx(b("CometSelect.react"),{disabled:c,onChange:function(a){a===b("ProfileCometProfilePictureTemporaryOptions").CUSTOM?p({onSelect:function(a){return n(a.getTime())}}):(f(a),n(null))},options:a,selectedValue:(o=g)!=null?o:e,size:"full"})}e.exports=a}),null);
__d("ProfileCometProfilePictureEditDialogReducer",[],(function(a,b,c,d,e,f){"use strict";function a(){return{image:null,isUploading:!1,step:"PICKER"}}function b(a,b){switch(b.type){case"ADD_FRAME":return babelHelpers["extends"]({},a,{step:"FRAME"});case"SELECT_PHOTO":return babelHelpers["extends"]({},a,{image:b.image,step:"PREVIEW"});case"PREVIEW_CANCEL":return babelHelpers["extends"]({},a,{image:null,step:"PICKER"});case"UPLOAD_FAILED":return babelHelpers["extends"]({},a,{isUploading:!1});case"UPLOAD_STARTED":return babelHelpers["extends"]({},a,{isUploading:!0});case"UPLOAD_SUCCESS":return babelHelpers["extends"]({},a,{image:babelHelpers["extends"]({},b.image,{isUploaded:!0}),isUploading:!1,step:a.step==="FRAME"?a.step:"PREVIEW"});default:return babelHelpers["extends"]({},a)}}e.exports={getInitialState:a,reducer:b}}),null);
__d("ProfileCometProfilePictureEditDialogContext",["ProfileCometProfilePictureEditDialogReducer","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("ProfileCometProfilePictureEditDialogReducer").getInitialState;c=b("React");d=c.createContext({dispatch:b("emptyFunction"),state:a()});e.exports=d}),null);
__d("ProfileCometProfilePictureZoomCropImage.react",["ix","CometImage.react","ProfileCometProfilePictureEditStrings","React","TetraIcon.react","TetraText.react","clamp","fbicon","stylex","useGlobalEventListener"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useCallback,j=c.useEffect,k=c.useRef,l=c.useState;function m(a,b,c){var d=(.5-a[0])*b[0]*c;a=(.5-a[1])*b[1]*c;return{transform:"translate3d("+d+"px, "+a+"px, 0) scale("+c+")"}}function n(a){switch(a){case"circle":return{WebkitMaskImage:"-webkit-radial-gradient(white, black)",borderRadius:"50%"};case"rect":default:return{}}}function o(a){return{height:a[1]+"px",width:a[0]+"px"}}function p(a,b){var c=-(b[0]-a[0])/2;b=-(b[1]-a[1])/2;return{transform:"translate("+c+"px, "+b+"px)"}}function q(a,c,d,e){var f=c[0]/2/(d[0]*e);c=c[1]/2/(d[1]*e);return[b("clamp")(a[0],f,1-f),b("clamp")(a[1],c,1-c)]}function a(a){var c=a.center,d=a.cropShape;d=d===void 0?"circle":d;var e=a.cropSize,f=a.disabled,r=f===void 0?!1:f,s=a.imageSize;f=a.imageSrc;var t=a.onMove;a=a.zoom;var u=a===void 0?1:a,v=k([0,0]),w=k([0,0]),x=k(1);a=l(!1);var y=a[0],z=a[1];a=l(!0);var A=a[0],B=a[1];a=i(function(a){a.preventDefault()},[]);var C=i(function(a){if(r)return;z(!0);B(!1);v.current=[a.clientX,a.clientY];w.current=c},[c,r]),D=i(function(a){z(!1),a.stopPropagation()},[]),E=i(function(a){if(!y)return;var b=a.clientX-v.current[0];a=a.clientY-v.current[1];b=[w.current[0]-b/(s[0]*x.current),w.current[1]-a/(s[1]*x.current)];t(q(b,e,s,x.current))},[e,s,y,t]);j(function(){u!==x.current&&(x.current=u,t(q(c,e,s,u)))},[c,e,s,t,u]);b("useGlobalEventListener")("mousemove",y?E:null,{capture:!0});b("useGlobalEventListener")("mouseup",y?D:null,{capture:!0});return h.jsxs("div",{className:"k4urcfbm l9j0dhe7 stjgntxs ni8dbmo4 datstx6m g6srhlxm",children:[h.jsxs("div",{className:"ke6wolob rk01pc8j l9j0dhe7 f9o22wc5 ad2k81qe",style:o(e),children:[h.jsx("div",{className:"l9j0dhe7 stjgntxs ni8dbmo4",style:babelHelpers["extends"]({},n(d),o(e)),children:h.jsx("div",{className:"pmk7jnqg",style:p(e,s),children:h.jsx("div",{style:m(c,s,x.current),children:h.jsx(b("CometImage.react"),{src:f})})})}),h.jsx("div",{className:"kr520xx4 pmk7jnqg akz8cqyu soycq5t1",style:p(e,s),children:h.jsx("div",{className:"a7woen2v",onDragStart:a,onMouseDown:C,style:m(c,s,x.current),children:h.jsx(b("CometImage.react"),{src:f})})})]}),!r&&A&&h.jsxs("div",{className:"cj5g2342 adce92kx kfkz5moi pmk7jnqg cxgpxx05 tw6a2znq d1544ag0 sj5x9vvc j83agx80 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 ora8z2hr bp9cbjyn",children:[h.jsx("div",{className:"oi9244e8 j83agx80",children:h.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(g("697185"),20)})}),h.jsx(b("TetraText.react"),{color:"white",type:"headlineEmphasized4",children:b("ProfileCometProfilePictureEditStrings").DRAG_INSTRUCTIONS})]})]})}e.exports=a}),null);
__d("ProfileCometProfilePictureZoomCrop.react",["ProfileCometProfilePictureZoomControl.react","ProfileCometProfilePictureZoomCropImage.react","React","clamp","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");c=b("React");var i=c.useCallback,j=c.useEffect,k=c.useState,l={"default":{height:"cmsa8f9s",width:"f36cnskx"}},m=5,n=180;function o(a){return Number(a.toFixed(m))}function p(a,b){b=Math.max(a[0]/b[0],a[1]/b[1]);a=Math.max(Math.min(a[0]/n,a[1]/n),b);return[o(b),o(a)]}function q(a){return a[0]/a[1]===1}function a(a){var c=a.cropShape;c=c===void 0?"circle":c;var d=a.cropSize,e=a.disabled;e=e===void 0?!1:e;var f=a.imageSize,m=a.imageSrc,n=a.onChange;a=a.xstyle;var r=p(d,f),s=k(Math.max(1,r[0])),t=s[0],u=s[1];s=k([.5,.5]);var v=s[0],w=s[1];s=!(t===r[0]&&q(f));var x=i(function(a){w(a)},[]),y=i(function(a){u(a)},[]);j(function(){var a,c=d[1]/(f[1]*t),e=d[0]/(f[0]*t),g=v[0]-e/2,h=v[1]-c/2;c=o((a=b("clamp"))(c,0,1));e=o(a(e,0,1));n({height:c,width:e,x:o(a(g,0,1-e)),y:o(a(h,0,1-c))})},[v,d,f,n,t]);return h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))((a=a)!=null?a:l["default"]),children:h.jsx(b("ProfileCometProfilePictureZoomCropImage.react"),{center:v,cropShape:c,cropSize:d,disabled:e||!s,imageSize:f,imageSrc:m,onMove:x,zoom:t})}),h.jsx(b("ProfileCometProfilePictureZoomControl.react"),{disabled:e,max:r[1],min:r[0],onChange:y,step:.1,value:t})]})}e.exports=a}),null);
__d("ProfileCometProfilePictureEditPreview.react",["ix","fbt","BaseRow.react","BaseRowItem.react","CometCard.react","CometFormTextArea.react","CometProgressIndicator.react","CometRelay","ProfileCometExpirationTimeSelector.react","ProfileCometProfilePictureEditStrings","ProfileCometProfilePictureSetMutation","ProfileCometProfilePictureTemporaryOptions","ProfileCometProfilePictureZoomCrop.react","React","TetraButton.react","TetraIcon.react","TetraText.react","fbicon","logCometFunnelEvent","stylex","useCodedErrorDialog","useIsMountedRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("CometRelay").useRelayEnvironment,k=b("ProfileCometProfilePictureSetMutation").setProfilePicture,l=b("React");c=b("React");var m=c.useCallback,n=c.useRef,o=c.useState,p=b("logCometFunnelEvent").logCometFunnelEvent,q=b("logCometFunnelEvent").useLogCometFunnelImpressionEvent,r={cancelButton:{marginEnd:"cgat1ltu"},description:{paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"ihqw7lf3",paddingStart:"dati1w0a"},footerWithDivider:{alignItems:"bp9cbjyn",borderTop:"l6v480f0",display:"j83agx80",justifyContent:"bkfpd7mw",paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"ihqw7lf3",paddingStart:"dati1w0a"},privacyDisclaimer:{alignItems:"bp9cbjyn",display:"j83agx80",marginBottom:"sjgh65i0",marginEnd:"wkznzc2l",marginStart:"dhix69tm"},privacyIcon:{display:"j83agx80",marginEnd:"tvfksri0"},privacyText:{display:"j83agx80"},saveButton:{marginStart:"kkf49tns"},savingIndicator:{marginEnd:"cgat1ltu"},spacingBottom:{marginBottom:"sjgh65i0",marginEnd:"wkznzc2l",marginStart:"dhix69tm"},temporaryInput:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"i1fnvgqd",paddingBottom:"f10w8fjw",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a",paddingTop:"pybr56ya"}},s=300;function a(a){var c=a.canMakeTemporary;c=c===void 0?!1:c;var d=a.onCancel,e=a.onSaveSuccess,f=a.photo,t=a.profileID,u=a.source,v=a.targetType;a=a.xstyle;var w=j(),x=n(null),y=o(""),z=y[0],A=y[1],B=b("useIsMountedRef")();y=o(!1);var C=y[0],D=y[1];y=b("useCodedErrorDialog")(h._("Error al guardar"));var E=y[0];y=o(!1);var F=y[0],G=y[1];y=o(b("ProfileCometProfilePictureTemporaryOptions").WEEK);var H=y[0];y=y[1];var I=m(function(){D(!0),k(w,{caption:z,expirationTime:F?H:null,photoID:f.id,profileID:t,scaledCropRect:x.current||void 0,source:u||void 0,targetType:v},{onCompleted:function(){p("ProfileCometTimelineWebFunnelDefinition","[action][profile picture edit dialog][save success]"),e()},onError:function(a){p("ProfileCometTimelineWebFunnelDefinition","[action][profile picture edit dialog][save error]",{error:a.description}),E(a),B.current&&D(!1)}})},[F,H,w,z,f.id,t,u,v,e,E,B]),J=m(function(a){x.current=a},[]),K=m(function(a){A(a)},[]);q("ProfileCometTimelineWebFunnelDefinition","[impression][profile picture edit dialog][edit thumbnail]");return l.jsxs("div",{children:[!f.isProfilePicture&&l.jsx("div",{className:(i||(i=b("stylex")))(r.description),children:l.jsx(b("CometFormTextArea.react"),{label:b("ProfileCometProfilePictureEditStrings").ADD_DESCRIPTION,minRows:2,onValueChange:K,value:z})}),l.jsx(b("ProfileCometProfilePictureZoomCrop.react"),{cropSize:[s,s],disabled:C,imageSize:[f.width,f.height],imageSrc:f.uri,onChange:J,xstyle:a}),c&&!f.isProfilePicture&&l.jsx(b("BaseRow.react"),{align:"center",xstyle:r.spacingBottom,children:l.jsx(b("BaseRowItem.react"),{children:l.jsx(b("TetraButton.react"),{icon:b("fbicon")._(g("478793"),16),label:b("ProfileCometProfilePictureEditStrings").MAKE_TEMPORARY,onPress:function(){return G(!F)},reduceEmphasis:F,type:F?"primary":"secondary"})})}),F&&l.jsx(b("BaseRow.react"),{xstyle:r.spacingBottom,children:l.jsx(b("BaseRowItem.react"),{expanding:!0,children:l.jsx(b("CometCard.react"),{border:"solid",dropShadow:1,children:l.jsxs("div",{className:(i||(i=b("stylex")))(r.temporaryInput),children:[l.jsx(b("TetraText.react"),{type:"body3",children:b("ProfileCometProfilePictureEditStrings").TEMPORARY_PROFILE_PIC_CONTROL}),l.jsx(b("ProfileCometExpirationTimeSelector.react"),{disabled:C,onChange:y,value:H})]})})})}),l.jsxs("div",{className:(i||(i=b("stylex")))(r.privacyDisclaimer),children:[l.jsx("div",{className:i(r.privacyIcon),children:l.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("fbicon")._(g("560120"),20)})}),l.jsx("div",{className:i(r.privacyText),children:l.jsx(b("TetraText.react"),{color:"secondary",type:"body2",children:b("ProfileCometProfilePictureEditStrings").PRIVACY_DISCLAIMER})})]}),l.jsxs("div",{className:i(r.footerWithDivider),children:[l.jsx("div",{className:i(r.cancelButton),children:C?l.jsx("div",{className:(i||(i=b("stylex")))(r.savingIndicator),children:l.jsx(b("CometProgressIndicator.react"),{})}):l.jsx(b("TetraButton.react"),{label:b("ProfileCometProfilePictureEditStrings").CANCEL,onPress:d,reduceEmphasis:!0,type:"secondary"})}),l.jsx("div",{className:i(r.saveButton),children:l.jsx(b("TetraButton.react"),{disabled:C,label:b("ProfileCometProfilePictureEditStrings").SAVE,onPress:I,padding:"wide",testid:void 0})})]})]})}e.exports=a}),null);
__d("ProfileCometProfilePictureEditPreviewDialog.react",["Actor","CometCardedDialog.react","ProfileCometProfilePictureEditPreview.react","ProfileCometProfilePictureEditStrings","React","useIsMountedRef"],(function(a,b,c,d,e,f){"use strict";var g=b("Actor").useActor,h=b("React");c=b("React");var i=c.useCallback;function a(a){var c=a.onClose,d=a.photo;a=a.source;var e=g();e=e[0];var f=b("useIsMountedRef")(),j=i(function(){f.current&&c()},[f,c]);return h.jsx(b("CometCardedDialog.react"),{onClose:c,size:"medium",title:b("ProfileCometProfilePictureEditStrings").DIALOG_TITLE,withCloseButton:!0,children:h.jsx(b("ProfileCometProfilePictureEditPreview.react"),{canMakeTemporary:!0,onCancel:c,onSaveSuccess:j,photo:d,profileID:e,source:a,targetType:"profile"})})}e.exports=a}),null);
__d("ProfileCometProfilePictureMediaUploadAction.react",["CometFileSelector.react","ProfileCometProfilePictureEditDialogContext","React","XProfilePicUploadAsyncController","logCometFunnelEvent","useCometAlertDialog","useProfileCometPhotoUploader"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback,i=c.useContext,j=b("logCometFunnelEvent").logCometFunnelEvent;function a(a){var c=a.children,d=a.profileID;a=i(b("ProfileCometProfilePictureEditDialogContext"));var e=a.dispatch;a=b("useCometAlertDialog")();var f=a[0],k=b("useProfileCometPhotoUploader")(),l=h(function(a){var b;j("ProfileCometTimelineWebFunnelDefinition","[action][profile picture edit dialog][upload success]");e({image:{height:(b=a.imageHeight)!=null?b:0,id:a.fbid,isProfilePicture:!1,uri:(b=a.imageURI)!=null?b:"",width:(b=a.imageWidth)!=null?b:0},type:"UPLOAD_SUCCESS"})},[e]),m=h(function(a){j("ProfileCometTimelineWebFunnelDefinition","[action][profile picture edit dialog][upload error]",{error:a.description}),e({type:"UPLOAD_FAILED"}),f({body:a.description,title:a.summary})},[e,f]);a=h(function(a){if(!a.length)return;e({type:"UPLOAD_STARTED"});var c=b("XProfilePicUploadAsyncController").getURIBuilder().setInt("profile_id",d).setEnum("photo_source",57).getURI();k(c,a[0],{onFailed:m,onSucceeded:l})},[e,m,l,d,k]);return g.jsx(b("CometFileSelector.react"),{accept:["image/*","image/heif","image/heic"],onFilesSelected:a,children:function(a){return c(a)}})}e.exports=a}),null);